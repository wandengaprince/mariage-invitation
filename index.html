<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Invitation ‚Äî Benabiayau & Wedi</title>
<link rel="preload" href="couple.jpg" as="image">
<style>
  :root{
    --bg:#0b0b0b; --card:#0f0f10; --accent:#c9a84b; --muted:#bfb8a3; --glass:rgba(255,255,255,0.03);
    --maxw:920px;
  }
  html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial;color:#eee;background:linear-gradient(180deg,#050505 0%, #0b0b0b 100%)}
  .wrap{max-width:var(--maxw);margin:28px auto;padding:22px}
  .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:12px; padding:18px; box-shadow:0 8px 30px rgba(0,0,0,0.6); border:1px solid rgba(201,168,75,0.08)}
  .hero{display:flex;gap:18px;align-items:flex-start;flex-wrap:wrap}
  .photo{flex:1 1 360px; min-width:280px; border-radius:10px; overflow:hidden; height:360px; box-shadow:inset 0 -30px 60px rgba(0,0,0,0.45)}
  .photo img{width:100%; height:100%; object-fit:cover; display:block}
  .info{flex:1 1 340px; min-width:260px; padding:10px 6px}
  h1{margin:0;font-size:18px; color:var(--muted); letter-spacing:1px}
  .couple{font-family:"Georgia",serif;font-size:30px;margin:6px 0;color:var(--accent); font-weight:600}
  p{margin:8px 0; line-height:1.45; color:#e9e6e0}
  .meta{background:var(--glass); padding:12px;border-radius:10px;margin-top:12px;border:1px solid rgba(255,255,255,0.02)}
  .small{font-size:13px;color:#d6d1c7}
  .btn{display:inline-block;padding:10px 14px;border-radius:10px;text-decoration:none;background:var(--accent);color:#070707;font-weight:600; margin-right:8px; box-shadow:0 6px 18px rgba(201,168,75,0.12)}
  .ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted); padding:9px 12px;border-radius:8px;text-decoration:none}
  .guestBox{margin-top:12px;padding:12px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005)); border:1px solid rgba(255,255,255,0.02)}
  .guestName{font-size:16px;font-weight:700;color:#fff}
  .guestTable{font-size:14px;color:var(--muted);margin-top:6px}
  .qrRow{display:flex;gap:12px;align-items:center;margin-top:12px;flex-wrap:wrap}
  .qrRow img{width:140px;height:140px;border-radius:10px;border:1px solid rgba(255,255,255,0.04); background:#fff}
  footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}
  /* Input small */
  .inline-form{display:flex;gap:8px;align-items:center}
  input[type="text"]{background:transparent;border:1px solid rgba(255,255,255,0.04);padding:8px 10px;color:#fff;border-radius:8px;min-width:180px}
  .center{display:flex;justify-content:center;align-items:center}
  /* Responsive */
  @media(max-width:720px){
    .hero{flex-direction:column}
    .photo{height:320px}
    .qrRow img{width:120px;height:120px}
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="hero">
        <div class="photo">
          <!-- Remplace couple.jpg par ta photo (m√™me dossier) -->
          <img src="couple.jpg" alt="Photo du couple" id="couplePhoto">
        </div>

        <div class="info">
          <h1>Invitation de Mariage</h1>
          <div class="couple">J√©r√©mie &amp; Cynthia</div>

          <p class="small">Les familles <strong>Benabiayau</strong> et <strong>Wedi</strong> ont l‚Äôhonneur de vous inviter  au mariage de leurs enfants.</p>

          <div class="meta">
            <p style="margin:6px 0"><strong>üìÖ Samedi 29 novembre 2025</strong> ‚Äî <strong>üïñ 19h00</strong></p>
            <p style="margin:6px 0"><strong>üìç Salle La Merveille</strong><br><span class="small">02, Avenue Eyala n¬∞1 ‚Äî C/Kasa-Vubu (Rond-Point Victoire)</span></p>
            <p class="small" style="margin-top:8px">üéÅ Les mari√©s seront honor√©s de recevoir vos cadeaux et b√©n√©dictions.</p>
          </div>

          <div class="guestBox" id="guestBoxMain">
            <div class="small">Invit√©</div>
            <div class="guestName" id="guestName">‚Äî</div>
            <div class="guestTable" id="guestTable">Table : ‚Äî</div>

            <div class="qrRow">
              <div>
                <img id="qrImg" alt="QR code" src="">
                <div class="small center" style="margin-top:6px">Scannez pour ouvrir la page</div>
              </div>
              <div style="flex:1">
                <div style="margin-bottom:8px">
                  <a id="openLink" class="btn" href="#" target="_blank">Ouvrir ma page</a>
                  <a id="confirmBtn" class="btn" href="#" target="_blank" style="background:#2dbf73">Confirmer ma pr√©sence</a>
                </div>
                <div class="small" style="margin-top:6px">Code d'acc√®s : <span id="guestCode">‚Äî</span></div>
              </div>
            </div>
          </div>

          <div style="margin-top:12px" class="inline-form">
            <input id="codeInput" type="text" placeholder="Entrez votre code (ex: INV-001)" />
            <a id="goBtn" class="btn">Voir mon invitation</a>
            <a id="playBtn" class="ghost">Play musique</a>
          </div>

          <div style="margin-top:10px;color:var(--muted);font-size:13px">
            <strong>Contact :</strong> +243 981 466 219
          </div>
        </div>
      </div>

      <footer>
        <div class="small">Affichez ce code √† l‚Äôentr√©e. L‚Äô√©quipe de l‚Äôaccueil v√©rifiera votre nom et cochera votre pr√©sence.</div>
      </footer>
    </div>
  </div>

  <!-- musique : remplace music.mp3 par ton fichier (m√™me dossier) -->
  <audio id="bgMusique" loop preload="auto">
    <source src="musique.mp3" type="audio/mpeg">
    <!-- Si tu n'as pas de fichier local, tu peux remplacer par un lien direct vers un mp3 h√©berg√© -->
  </audio>

<script>
/* === CONFIGURATION ===
 - Remplace 'YOUR_GOOGLE_FORM_URL' par ton lien Google Form pr√©-rempli.
 - Place 'couple.jpg' et 'music.mp3' dans le m√™me dossier que ce fichier.
 - Pour h√©berger: GitHub Pages / Netlify / ou serveur simple.
*/

// LISTE INVITES (modifie ici si n√©cessaire)
const guests = {
  "INV-001": { name: "Prince Wandenga", table: "Table 1" },
  "INV-002": { name: "Merveille", table: "Table 2" },
  "INV-003": { name: "Salem Okito", table: "Table 1" },
  "INV-004": { name: "Simeon Wedi", table: "Table 2" },
  "INV-005": { name: "Martias Wedi", table: "Table 1" }
};

// Lien Google Form (pr√©-rempli via param entry.XXXXX=CODE)
const googleFormBase = "YOUR_GOOGLE_FORM_URL"; // <-- Remplace par l'URL pr√©-remplie par ex: https://docs.google.com/forms/d/e/FORM_ID/viewform?usp=pp_url&entry.123456=

/* UTIL */
function getParameterByName(name){
  const url = window.location.href;
  name = name.replace(/[\\[\\]]/g, "\\$&");
  const regex = new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)");
  const results = regex.exec(url);
  if(!results) return null;
  if(!results[2]) return '';
  return decodeURIComponent(results[2].replace(/\+/g," "));
}

function showGuest(code){
  const codeU = (code||'').toUpperCase();
  const guestNameEl = document.getElementById('guestName');
  const guestTableEl = document.getElementById('guestTable');
  const guestCodeEl = document.getElementById('guestCode');
  const qrImg = document.getElementById('qrImg');
  const openLink = document.getElementById('openLink');
  const confirmBtn = document.getElementById('confirmBtn');

  if(!codeU){
    guestNameEl.textContent = "Bienvenue";
    guestTableEl.textContent = "Entrez votre code pour voir votre invitation.";
    guestCodeEl.textContent = "‚Äî";
    qrImg.src = "";
    openLink.href = "#";
    confirmBtn.href = "#";
    return;
  }

  guestCodeEl.textContent = codeU;
  const currentUrl = location.origin + location.pathname + "?code=" + encodeURIComponent(codeU);
  qrImg.src = "https://chart.googleapis.com/chart?chs=300x300&cht=qr&chl=" + encodeURIComponent(currentUrl);
  openLink.href = currentUrl;
  openLink.target = "_blank";

  if(guests[codeU]){
    guestNameEl.textContent = guests[codeU].name;
    guestTableEl.textContent = "Table : " + guests[codeU].table;
  } else {
    guestNameEl.textContent = "Invit√© non trouv√©";
    guestTableEl.textContent = "Contactez +243 981 466 219";
  }

  // Confirmer via Google Form (pr√©-rempli)
  if(googleFormBase && googleFormBase !== "YOUR_GOOGLE_FORM_URL"){
    confirmBtn.href = googleFormBase + encodeURIComponent(codeU);
    confirmBtn.target = "_blank";
  } else {
    // si pas configur√©, on masque le bouton
    confirmBtn.href = "#";
    confirmBtn.style.display = "none";
  }
}

/* Interaction */
document.getElementById('goBtn').addEventListener('click', function(){
  const val = document.getElementById('codeInput').value.trim();
  if(!val){ alert("Entrez votre code (ex: INV-001)"); return; }
  // redirige vers l'URL avec param
  const newUrl = location.origin + location.pathname + "?code=" + encodeURIComponent(val.toUpperCase());
  window.location.href = newUrl;
});

/* lecture de param ?code= */
const codeParam = getParameterByName('code');
if(codeParam){
  // tente d'afficher la page invite directement
  showGuest(codeParam);
  // scroll un peu vers la guestBox pour mobile
  setTimeout(()=>{ document.getElementById('guestBoxMain').scrollIntoView({behavior:'smooth', block:'center'}); }, 250);
} else {
  showGuest(null);
}

/* Musique: play/pause */
const bg = document.getElementById('bgMusic');
const playBtn = document.getElementById('playBtn');
let playing = false;
function updatePlayBtn(){
  playBtn.textContent = playing ? "Pause musique" : "Play musique";
}
playBtn.addEventListener('click', async function(){
  try{
    if(!playing){
      await bg.play();
      playing = true;
      updatePlayBtn();
    } else {
      bg.pause();
      playing = false;
      updatePlayBtn();
    }
  } catch(e){
    // autoplay blocked: inform user
    alert("Lecture automatique bloqu√©e par le navigateur. Cliquez sur Play pour lancer la musique.");
  }
});
updatePlayBtn();

/* tentative d'autoplay (silencieux) - certains navigateurs n'aiment pas */
bg.volume = 0.55;
bg.muted = false;
setTimeout(()=>{ 
  // on essaye de jouer (si le navigateur le permet)
  bg.play().then(()=>{ playing = true; updatePlayBtn(); }).catch(()=>{ playing = false; updatePlayBtn(); });
}, 700);

/* Option : si tu veux g√©n√©rer la liste des URLs pour distribution,
   tu peux construire des liens: location.origin+location.pathname+"?code=INV-001" etc.
*/

</script>
</body>
</html>
